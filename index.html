<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-title" content="Levage S√©curis√©">
    <link rel="apple-touch-icon" href="icon.png">
    <link rel="icon" type="image/png" href="icon.png">
        
    <title>Chantiers Modernes - Levage S√©curis√© (V10.3)</title>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone@7.21.3/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700;900&display=swap" rel="stylesheet">
    <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: { blue: '#004e98', red: '#d92e2e', dark: '#0f172a' }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out forwards',
                        'slide-up': 'slideUp 0.5s ease-out forwards',
                    },
                    keyframes: {
                        fadeIn: { '0%': { opacity: '0' }, '100%': { opacity: '1' } },
                        slideUp: { '0%': { opacity: '0', transform: 'translateY(20px)' }, '100%': { opacity: '1', transform: 'translateY(0)' } }
                    }
                }
            }
        }
    </script>

    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="root"></div>

    <div id="updateContainer">
        <div id="updateAlert" class="bouncing">
            <span class="update-text">Nouvelle version dispo !</span>
            <span class="text-[#d92e2e] text-2xl font-bold">‚ûú</span> 
        </div>
        <button id="refreshBtn" onclick="forceUpdate()" title="Rafra√Æchir l'application">
            <div class="update-dot"></div>
            &#x21bb;
        </button>
    </div>

    <div id="info-modal-overlay" class="hidden fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4">
        <div class="bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden fade-in-modal border-l-8 border-[#004e98] relative">
            <button onclick="closeInfoModal()" class="absolute top-4 right-4 text-slate-400 hover:text-slate-600 transition">‚úï</button>

            <div class="p-6 md:p-8 space-y-6">
                <h2 class="text-2xl font-black text-slate-800 flex items-center gap-3">
                    ‚ÑπÔ∏è Infos Application
                </h2>
                
                <div class="bg-blue-50 p-4 rounded-xl border border-blue-100 relative">
                    <div class="grid grid-cols-2 gap-4">
                        <div class="border-r border-blue-200 pr-2">
                            <h3 class="text-[10px] font-bold text-[#004e98] uppercase tracking-widest mb-1">Install√©e (Local)</h3>
                            <div class="font-mono text-xs font-bold text-slate-700 break-all" id="info-app-version">Check...</div>
                            <p class="text-[10px] text-blue-500 mt-1 font-medium" id="info-local-time">Calcul...</p>
                        </div>
                        <div class="pl-2 text-right">
                             <div class="flex items-center justify-end gap-2 mb-1">
                                <span class="text-[10px] font-bold text-[#004e98] uppercase">Disponible (GitHub)</span>
                                <div id="connection-status" class="w-2 h-2 rounded-full bg-gray-400"></div>
                            </div>
                            <div class="font-mono text-xs font-bold text-blue-600 break-all" id="info-remote-version">En attente...</div>
                            <p class="text-[10px] text-blue-500 mt-1">Dernier Commit</p>
                        </div>
                    </div>
                    <button id="btn-update-check" onclick="checkGitHubUpdates()" class="mt-4 w-full bg-[#004e98] text-white font-bold py-2 rounded-lg hover:bg-[#003b75] disabled:opacity-50 transition text-sm flex justify-center items-center gap-2 shadow-sm">
                        <span>üîÑ</span> V√©rifier maintenant
                    </button>
                </div>

                <div id="about-card" class="bg-white border border-slate-200 p-4 rounded-xl relative shadow-sm transition-all duration-300 hover:shadow-md cursor-pointer" onclick="toggleAccordion('about-card')">
                    <div class="flex items-center justify-between mb-0">
                        <div class="flex items-center gap-3">
                            <span class="text-2xl">üèóÔ∏è</span>
                            <h3 class="font-bold text-slate-800 text-lg">√Ä propos de Levage S√©curis√©</h3>
                        </div>
                        <svg class="w-6 h-6 toggle-arrow text-[#004e98]" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </div>
                    
                    <div class="collapsible-wrapper cursor-text" onclick="event.stopPropagation()">
                        <div class="text-sm text-slate-600 text-justify leading-relaxed mt-4 mb-4 border-t border-slate-100 pt-4">
                            <p class="mb-2"><strong>Levage S√©curis√©</strong> est un outil professionnel d'aide √† la d√©cision pour les op√©rations de levage sur chantier.</p>
                            <p class="mb-2">Fonctionnalit√©s cl√©s :</p>
                            <ul class="list-disc pl-5 mb-4 space-y-1">
                                <li><strong>Base de donn√©es :</strong> Gestion centralis√©e des grues mobiles, √† tour et t√©lescopiques.</li>
                                <li><strong>Calculateur :</strong> V√©rification instantan√©e des capacit√©s (Abaques num√©riques).</li>
                                <li><strong>S√©curit√© :</strong> Indicateurs visuels (Vert/Rouge) pour la conformit√© des levages.</li>
                            </ul>
                            <p class="text-xs text-slate-500 italic mt-2">Application connect√©e pour les mises √† jour, mais fonctionnant localement pour la confidentialit√© de vos donn√©es chantiers.</p>
                        </div>
                        
                        <button onclick="openTutorial()" class="bg-[#d92e2e] hover:bg-[#b91c1c] text-white font-bold py-3 px-6 rounded-xl shadow-md transition text-sm w-full flex justify-center items-center gap-2">
                            üéì Lancer le Tutoriel Interactif
                        </button>
                    </div>
                </div>

                <div class="text-center border-t border-slate-100 pt-6 mt-4">
                    <p class="text-xs text-slate-500 font-medium mb-1">¬© <span id="year-copy">2026</span> Antonin LAMONTAGNE</p>
                    <div class="flex justify-center gap-2 text-[10px] text-slate-400">
                        <a href="#" class="hover:text-[#004e98] underline">Support IT</a>
                        <span>‚Ä¢</span>
                        <a href="#" class="hover:text-[#004e98] underline">GitHub</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="wn-overlay">
        <div id="wn-modal">
            <div class="wn-header">
                <span id="wn-badge-text" class="wn-badge">Tutoriel</span>
                <h2 id="wn-main-title" class="wn-title">Guide Rapide</h2>
            </div>
            <div id="wn-content" class="wn-slides-container"></div>
            <div id="wn-dots" class="wn-dots"></div>
            <button id="wn-btn" onclick="nextSlide()">Suivant ‚ûú</button>
        </div>
    </div>

    <script type="text/babel" data-type="module" src="script.js"></script>
</body>
</html>
